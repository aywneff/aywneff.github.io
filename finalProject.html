Skip to content
 
Search or jump to…

Pull requests
Issues
Marketplace
Explore
 @aywneff Sign out
0
0 0 aywneff/aywneff.github.io
 Code  Issues 0  Pull requests 0  Projects 0  Wiki  Insights  Settings
aywneff.github.io/assignment5.html
@aywneff aywneff Update assignment5.html
649bd42  on Feb 12
53 lines (46 sloc)  1.99 KB
    
<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Example Student's HCDE 439 Physical Computing Page!</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h1>Final Project: A Remote Controlled Nightlight</h1>
            <p>
            <h2> The Concept </h2>
            </br>
            <img src="mobile.jpg" width = 400>
            </br> 
            </br>
            Originally was going to make a mobile for babies the rotated using a DC motor with LEDs that would blink and fade.
            However, when I hooked up the DC motor it rotated too quickly.  It was suggested that I use some gears to slow it down. 
            But that required a lot of guess and check to get the gears the right size to slow down the motor to the right speed
            which time did not allow.  I also had trouble progamming the LEDs to fade while the motor was running.  So, I redirected to
            a nightlight.
            </br>
            <img src="nightLight.jpg" width = 400>
            </br>
            I simplifed the concept to a nightlight with LEDs that would fade.  It is remote controlled to turn it on/off and fade different LEDS.
            </br>
            </br>
            <h2> Schematic, Circuuit, and Technical Implementation </h2>
            </br>
            <img src = "finalSchematic.jpg" width = 400>
            </br>
            <img src = "finalCircuit.jpg" width = 400>
            </br>   
            The technical implemetation for this project is fairly simple.  The IR remote reciver is connected to pin 7.  Two of the LEDs are connected 
            to digital pins, 4 and 8.  I used a 1,000 ohm resistor for these LEDs because they are either on at full brightness or off.  I thought full 
            brightness with a 220 ohm resistor which I used for the other LEDs was too bright to be soothing.  The other three LEDs are connected to analog 
            pins, 5,6, and 8 with 220 ohm resistors.  These LEDs can fade when 1, 2, or 3 is pressed on the remote.  The power button turns on all of the LEDs 
            and the 0 button turns them off.  This circuit is powered by 5 volt power source from a battery.
            </br>
            </br>
            <h2> GIF and Pictures </h2>
            </br>
            <img src = "finalGif.gif" width = 400>
            </br>
            A full video demo can be seen here: https://www.youtube.com/watch?v=IOgBiBpjXGE
            </br>
            <img src = "finalPic.jpg" width = 400>
            </br>
            </br>
            <h2> The Code <h2>
             </br>
             //Aylee Neff
             //HCDE 439 Final Project
             //3-15-19

             #include <IRremote.h> //IR remote library

             //pin 7 recieves signals from the IR remote and decodes them
             const int RECV_PIN = 7; 
             IRrecv irrecv(RECV_PIN);
             decode_results results;
             //initalizes varialbes 
             unsigned long key_value = 0;
             int state = 0;
             int period = 100;
             unsigned long time_now = 0;

             //initializes values of pins 4,5,6,8,10 to zero
             int val_4 = 0;
             int val_5 = 0;
             int val_6 = 0;
             int val_8 = 0;
             int val_10 = 0;



             void setup() {
               //initalizes pins 4,5,6,8,10 as output pins
               pinMode(4, OUTPUT);
               pinMode(5, OUTPUT);
               pinMode(6, OUTPUT);
               pinMode(8, OUTPUT);
               pinMode(10, OUTPUT);
               Serial.begin(9600);
               irrecv.enableIRIn();
               irrecv.blink13(true);
             }

             //Recieves signals from the remote and decodes them to initiate 
             //different outputs 
             void loop() {
               if (irrecv.decode(&results)) {

                 if (results.value == 0XFFFFFFFF)
                   results.value = key_value;
                 Serial.println(results.value);

                 switch (results.value) {
                   case 16753245:
                   //turns on all of the LEDs 
                   //when the power button is pressed
                     Serial.println("power");
                     analogWrite(6, 128);
                     analogWrite(5, 128);
                     analogWrite(10, 128);
                     state = 1;
                     break;
                   case 0xFF6897:
                   //turns off the LEDS when 
                   //0 on the remote is pressed
                     Serial.println("0");
                     analogWrite(6, 0);
                     analogWrite(5, 0);
                     analogWrite(10, 0);
                     state = 0;
                     break;
                   case 0xFF30CF:
                   //fades the LED connected to pin 5 
                   //when 1 on the remote is pressed
                     Serial.println("1");
                     fade5();
                     break ;
                   case 0xFF18E7:
                   //fades the LED connected to pin 6 
                   //when 2 on the remote is pressed
                     Serial.println("2");
                     fade6();
                     break ;
                   case 0xFF7A85:
                   //fades the LED connected to pin 10
                   //when 3 on the remote is pressed
                     Serial.println("3");
                     fade10();
                     break ;
                 }
                 //continues to read signlas from the remote
                 key_value = results.value;
                 irrecv.resume();
               }
               //checks whether or not the LEDs 
               //should be on or off
               ledUpdate();
             }

             //turns the LEDs connected to pins 4 and 8
             // on if state = 1 or off if state = 0
             void ledUpdate() {
               if (state == 1) {
                 digitalWrite(4, HIGH);
                 digitalWrite(8, HIGH);
               } else (state == 0); {
                 digitalWrite(4, LOW);
                 digitalWrite(8, LOW);
               }
             }

             //fades the LED connected to pin 6 
             // when 2 is pressed
             void fade6 () {
               period = 100;
               time_now = 0;
               // when 2 is pressed the LEDs will turn on at different brightnesses
               while (results.value == 16718055) {
                 digitalWrite(4,HIGH);
                 digitalWrite(8,HIGH);
                 analogWrite(5, 64);
                 analogWrite(10, 128);
                 //increases the brightnss of the LED connected to pin 6 
                 //by increments of 5 every 100 milliseconds
                 for (int val_6 = 0 ; val_6 <= 255; val_6 += 5) {
                   analogWrite(6, val_6);
                   time_now = millis();
                   while (millis() < time_now + period) {

                   }
                 }
                 //sets the LED to full brightness for 250 milliseconds
                 time_now = millis();
                 period = 250;
                 while (millis() < time_now + period) {

                 }
                 period = 100;
                 time_now = millis();
                 //decreases the brightnss of the LED connected to pin 6 
                 //by increments of 5 every 100 milliseconds
                 for (int val_6 = 255; val_6 >= 0; val_6 -= 5) {
                   analogWrite(6, val_6);
                   time_now = millis();
                   while (millis() < time_now + period) {

                   }
                 }
                 // resumes reading signals from the IR remote
                 if (irrecv.decode(&results)) {
                   irrecv.resume();
                 }
               }
             }

             //fades the LED connected to pin 5 when 1 is pressed. 
             //code is the same as the previous method but it is applied 
             //to a different pin. 
             void fade5 () {
               period = 100;
               time_now = 0;
               while (results.value == 16724175) {
                 digitalWrite(4,HIGH);
                 digitalWrite(8,HIGH);
                 analogWrite(6, 64);
                 analogWrite(10, 128);
                 for (int val_5 = 0 ; val_5 <= 255; val_5 += 5) {
                   analogWrite(5, val_5);
                   time_now = millis();
                   while (millis() < time_now + period) {

                   }
                 }
                 time_now = millis();
                 period = 250;
                 while (millis() < time_now + period) {

                 }
                 period = 100;
                 time_now = millis();
                 for (int val_5 = 255; val_5 >= 0; val_5 -= 5) {
                   analogWrite(5, val_5);
                   time_now = millis();
                   while (millis() < time_now + period) {

                   }
                 }

                 if (irrecv.decode(&results)) {
                   irrecv.resume();
                 }
               }
             }

             //fades the LED connected to pin 10 when three is pressed
             //code is the same as the previous method but it is applied 
             //to a different pin
             void fade10 () {
               period = 100;
               time_now = 0;
               while (results.value == 16743045) {
                 digitalWrite(4,HIGH);
                 digitalWrite(8,HIGH);
                 analogWrite(5, 64);
                 analogWrite(6, 128);
                 for (int val_10 = 0 ; val_10 <= 255; val_10 += 5) {
                   analogWrite(10, val_10);
                   time_now = millis();
                   while (millis() < time_now + period) {

                   }
                 }
                 time_now = millis();
                 period = 250;
                 while (millis() < time_now + period) {

                 }
                 period = 100;
                 time_now = millis();
                 for (int val_10 = 255; val_10 >= 0; val_10 -= 5) {
                   analogWrite(10, val_10);
                   time_now = millis();
                   while (millis() < time_now + period) {

                   }
                 }

                 if (irrecv.decode(&results)) {
                   irrecv.resume();
                 }
               }
             }

            </br>
            </p>

        </div>
        
    </body>
</html>
© 2019 GitHub, Inc.
Terms
Privacy
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
